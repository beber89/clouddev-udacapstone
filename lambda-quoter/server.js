// implemented in js at the beginning then write it in golang